<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>1% Better. Every Day.</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
:root {
      --bg-top: #c8e3d5;
      --bg-bottom: #dfeee6;
      --bg-top: #b7dcc9;
      --bg-bottom: #d0e6db;
--accent: #10b981;
--accent-soft: #a7f3d0;
--accent-strong: #047857;
@@ -74,7 +74,7 @@
inset: 0;
background:
radial-gradient(circle at 50% 140%, #0f766e 0, #0f766e 40%, transparent 41%),
        linear-gradient(to top, rgba(15,23,42,0.08), transparent 40%);
        linear-gradient(to top, rgba(15,23,42,0.12), transparent 40%);
}
.hero-icon::after {
content: "";
@@ -558,7 +558,6 @@
</div>
</div>
<div class="hero-meta" style="margin-top:12px;">
        <span class="chip"><span id="dateLabel"></span></span>
<span class="chip chip-strong" id="progressChip">Today: 0% (0/0)</span>
<span class="chip">
<span class="small">View date:</span>
@@ -786,86 +785,86 @@

var SUGGESTION_BANK = {
"Shoulder": [
      { title:"2-min shoulder circles", minutes:2, benefit:"Lubricates the joint and eases stiffness", icon:"ðŸŒ€", blocks:["Morning"], subFocus:"Mobility" },
      { title:"Wall slides â€“ 5 reps", minutes:3, benefit:"Supports posture and scapular control", icon:"ðŸ§±", blocks:["Any"], subFocus:"PT & Rehab" }
      { title:"2-min shoulder circles", minutes:2, reps:10, benefit:"Lubricates the joint and eases stiffness", icon:"ðŸŒ€", blocks:["Morning"], subFocus:"Mobility" },
      { title:"Wall slides â€“ 5 reps", minutes:3, reps:5, benefit:"Supports posture and scapular control", icon:"ðŸ§±", blocks:["Any"], subFocus:"PT & Rehab" }
],
"Diet": [
      { title:"Log todayâ€™s first meal", minutes:2, benefit:"Builds awareness of what youâ€™re eating", icon:"ðŸ““", blocks:["Morning"], subFocus:"Meals" },
      { title:"Add one extra glass of water", minutes:1, benefit:"Supports energy and digestion", icon:"ðŸ’§", blocks:["Any"], subFocus:"Fasting" }
      { title:"Log todayâ€™s first meal", minutes:2, reps:1, benefit:"Builds awareness of what youâ€™re eating", icon:"ðŸ““", blocks:["Morning"], subFocus:"Meals" },
      { title:"Add one extra glass of water", minutes:1, reps:1, benefit:"Supports energy and digestion", icon:"ðŸ’§", blocks:["Any"], subFocus:"Fasting" }
],
"Exercise": [
      { title:"1 set of 10 squats", minutes:3, benefit:"Activates legs and circulation", icon:"ðŸ‹ï¸", blocks:["Any"], subFocus:"Strength" },
      { title:"5-min brisk walk", minutes:5, benefit:"Gently raises heart rate", icon:"ðŸš¶", blocks:["Midday","Afternoon"], subFocus:"Cardio" }
      { title:"1 set of 10 squats", minutes:3, reps:10, benefit:"Activates legs and circulation", icon:"ðŸ‹ï¸", blocks:["Any"], subFocus:"Strength" },
      { title:"5-min brisk walk", minutes:5, reps:1, benefit:"Gently raises heart rate", icon:"ðŸš¶", blocks:["Midday","Afternoon"], subFocus:"Cardio" }
],
"Dance": [
      { title:"Dance 1 salsa song", minutes:3, benefit:"Shifts you into joy fast", icon:"ðŸ’ƒ", blocks:["Evening"], subFocus:"Salsa" },
      { title:"5-min basic footwork", minutes:5, benefit:"Builds coordination and confidence", icon:"ðŸ¦¶", blocks:["Any"], subFocus:"Footwork" }
      { title:"Dance 1 salsa song", minutes:3, reps:1, benefit:"Shifts you into joy fast", icon:"ðŸ’ƒ", blocks:["Evening"], subFocus:"Salsa" },
      { title:"5-min basic footwork", minutes:5, reps:1, benefit:"Builds coordination and confidence", icon:"ðŸ¦¶", blocks:["Any"], subFocus:"Footwork" }
],
"Wellness": [
      { title:"Cold plunge â€“ 2 min", minutes:2, benefit:"Boosts dopamine & resilience", icon:"â„ï¸", blocks:["Morning"], subFocus:"Cold Plunge" },
      { title:"Wim Hof â€“ 1 light round", minutes:5, benefit:"Energizes and clears the mind", icon:"ðŸŒ¬ï¸", blocks:["Morning"], subFocus:"Breathwork" },
      { title:"Meditate â€“ 5 min", minutes:5, benefit:"Calms nervous system", icon:"ðŸ§˜", blocks:["Evening"], subFocus:"Meditation" }
      { title:"Cold plunge â€“ 2 min", minutes:2, reps:1, benefit:"Boosts dopamine & resilience", icon:"â„ï¸", blocks:["Morning"], subFocus:"Cold Plunge" },
      { title:"Wim Hof â€“ 1 light round", minutes:5, reps:1, benefit:"Energizes and clears the mind", icon:"ðŸŒ¬ï¸", blocks:["Morning"], subFocus:"Breathwork" },
      { title:"Meditate â€“ 5 min", minutes:5, reps:1, benefit:"Calms nervous system", icon:"ðŸ§˜", blocks:["Evening"], subFocus:"Meditation" }
],
"Anya's Creativity Zone": [
      { title:"Brainstorm 3 video ideas with Anya", minutes:5, benefit:"Feeds shared creativity", icon:"ðŸŽ¥", blocks:["Afternoon","Evening"], subFocus:"Content" },
      { title:"Tidy one small part of the setup", minutes:3, benefit:"Keeps the space inspiring", icon:"ðŸ§¹", blocks:["Any"], subFocus:"Setup" }
      { title:"Brainstorm 3 video ideas with Anya", minutes:5, reps:1, benefit:"Feeds shared creativity", icon:"ðŸŽ¥", blocks:["Afternoon","Evening"], subFocus:"Content" },
      { title:"Tidy one small part of the setup", minutes:3, reps:1, benefit:"Keeps the space inspiring", icon:"ðŸ§¹", blocks:["Any"], subFocus:"Setup" }
],
"Soundbath": [
      { title:"10-min soundbath practice", minutes:10, benefit:"Deepens your craft", icon:"ðŸŽ¶", blocks:["Evening"], subFocus:"Practice" },
      { title:"Reach out about one future event", minutes:3, benefit:"Keeps momentum for offerings", icon:"ðŸ“©", blocks:["Afternoon"], subFocus:"Events" }
      { title:"10-min soundbath practice", minutes:10, reps:1, benefit:"Deepens your craft", icon:"ðŸŽ¶", blocks:["Evening"], subFocus:"Practice" },
      { title:"Reach out about one future event", minutes:3, reps:1, benefit:"Keeps momentum for offerings", icon:"ðŸ“©", blocks:["Afternoon"], subFocus:"Events" }
],
"Ciqu": [
      { title:"Review todayâ€™s top 3 numbers", minutes:5, benefit:"Keeps a clear handle on the business", icon:"ðŸ“Š", blocks:["Midday"], subFocus:"Finance" },
      { title:"Send 1 check-in to a vendor/client", minutes:3, benefit:"Maintains healthy relationships", icon:"ðŸ¤", blocks:["Afternoon"], subFocus:"Operations" }
      { title:"Review todayâ€™s top 3 numbers", minutes:5, reps:1, benefit:"Keeps a clear handle on the business", icon:"ðŸ“Š", blocks:["Midday"], subFocus:"Finance" },
      { title:"Send 1 check-in to a vendor/client", minutes:3, reps:1, benefit:"Maintains healthy relationships", icon:"ðŸ¤", blocks:["Afternoon"], subFocus:"Operations" }
],
"EZ Tool": [
      { title:"Capture 1 product idea in notes", minutes:3, benefit:"Keeps the roadmap alive", icon:"ðŸ› ï¸", blocks:["Any"], subFocus:"Product" },
      { title:"Improve one line of app copy", minutes:4, benefit:"Makes the experience clearer", icon:"âœï¸", blocks:["Evening"], subFocus:"Marketing" }
      { title:"Capture 1 product idea in notes", minutes:3, reps:1, benefit:"Keeps the roadmap alive", icon:"ðŸ› ï¸", blocks:["Any"], subFocus:"Product" },
      { title:"Improve one line of app copy", minutes:4, reps:1, benefit:"Makes the experience clearer", icon:"âœï¸", blocks:["Evening"], subFocus:"Marketing" }
],
"_default": [
      { title:"Take 3 slow breaths", minutes:1, benefit:"Recenters your energy", icon:"ðŸŒ¬ï¸", blocks:["Any"] }
      { title:"Take 3 slow breaths", minutes:1, reps:3, benefit:"Recenters your energy", icon:"ðŸŒ¬ï¸", blocks:["Any"] }
]
};

var DEFAULT_ACTIONS = [
// Shoulder
    { id:"a1",  area:"Shoulder", subFocus:"Mobility",     title:"Shoulder CARs â€“ 3 slow circles", minutes:3, benefit:"Keeps your shoulder joint mobile", favorite:true,  blocks:["Morning"], icon:"ðŸŒ€" },
    { id:"a2",  area:"Shoulder", subFocus:"PT & Rehab",   title:"Wall slides â€“ 5 reps",           minutes:3, benefit:"Supports posture and scapular control", favorite:false, blocks:["Any"], icon:"ðŸ§±" },
    { id:"a1",  area:"Shoulder", subFocus:"Mobility",     title:"Shoulder CARs â€“ 3 slow circles", minutes:3, reps:6, benefit:"Keeps your shoulder joint mobile", favorite:true,  blocks:["Morning"], icon:"ðŸŒ€" },
    { id:"a2",  area:"Shoulder", subFocus:"PT & Rehab",   title:"Wall slides â€“ 5 reps",           minutes:3, reps:5, benefit:"Supports posture and scapular control", favorite:false, blocks:["Any"], icon:"ðŸ§±" },

// Diet
    { id:"a3",  area:"Diet", subFocus:"Fasting",          title:"Hydrate â€“ 1 extra glass of water", minutes:2, benefit:"Supports energy & fasting", favorite:true, blocks:["Morning"], icon:"ðŸ’§" },
    { id:"a4",  area:"Diet", subFocus:"Meals",            title:"Log first meal of the day",       minutes:2, benefit:"Builds awareness of intake", favorite:false, blocks:["Any"], icon:"ðŸ““" },
    { id:"a3",  area:"Diet", subFocus:"Fasting",          title:"Hydrate â€“ 1 extra glass of water", minutes:2, reps:1, benefit:"Supports energy & fasting", favorite:true, blocks:["Morning"], icon:"ðŸ’§" },
    { id:"a4",  area:"Diet", subFocus:"Meals",            title:"Log first meal of the day",       minutes:2, reps:1, benefit:"Builds awareness of intake", favorite:false, blocks:["Any"], icon:"ðŸ““" },

// Exercise
    { id:"a5",  area:"Exercise", subFocus:"Strength",     title:"1 strength block â€“ 15 min",      minutes:15, benefit:"Builds strength & resilience", favorite:true, blocks:["Afternoon"], icon:"ðŸ‹ï¸" },
    { id:"a6",  area:"Exercise", subFocus:"Cardio",       title:"Lunch walk â€“ 10 min",            minutes:10, benefit:"Movement + sunlight", favorite:false, blocks:["Midday","Afternoon"], icon:"ðŸš¶" },
    { id:"a5",  area:"Exercise", subFocus:"Strength",     title:"1 strength block â€“ 15 min",      minutes:15, reps:1, benefit:"Builds strength & resilience", favorite:true, blocks:["Afternoon"], icon:"ðŸ‹ï¸" },
    { id:"a6",  area:"Exercise", subFocus:"Cardio",       title:"Lunch walk â€“ 10 min",            minutes:10, reps:1, benefit:"Movement + sunlight", favorite:false, blocks:["Midday","Afternoon"], icon:"ðŸš¶" },

// Dance
    { id:"a7",  area:"Dance", subFocus:"Salsa",           title:"Dance 1 salsa song",             minutes:3, benefit:"Shifts you into joy", favorite:true, blocks:["Evening"], icon:"ðŸ’ƒ" },
    { id:"a8",  area:"Dance", subFocus:"Footwork",        title:"5-min basic footwork",           minutes:5, benefit:"Improves timing & control", favorite:false, blocks:["Any"], icon:"ðŸ¦¶" },
    { id:"a7",  area:"Dance", subFocus:"Salsa",           title:"Dance 1 salsa song",             minutes:3, reps:1, benefit:"Shifts you into joy", favorite:true, blocks:["Evening"], icon:"ðŸ’ƒ" },
    { id:"a8",  area:"Dance", subFocus:"Footwork",        title:"5-min basic footwork",           minutes:5, reps:1, benefit:"Improves timing & control", favorite:false, blocks:["Any"], icon:"ðŸ¦¶" },

// Wellness
    { id:"a9",  area:"Wellness", subFocus:"Cold Plunge",  title:"Cold plunge â€“ 2 min",            minutes:2, benefit:"Boosts dopamine & grit", favorite:true, blocks:["Morning"], icon:"â„ï¸" },
    { id:"a10", area:"Wellness", subFocus:"Meditation",   title:"Meditation â€“ 10 min",            minutes:10, benefit:"Calms mind and body", favorite:false, blocks:["Evening"], icon:"ðŸ§˜" },
    { id:"a9",  area:"Wellness", subFocus:"Cold Plunge",  title:"Cold plunge â€“ 2 min",            minutes:2, reps:1, benefit:"Boosts dopamine & grit", favorite:true, blocks:["Morning"], icon:"â„ï¸" },
    { id:"a10", area:"Wellness", subFocus:"Meditation",   title:"Meditation â€“ 10 min",            minutes:10, reps:1, benefit:"Calms mind and body", favorite:false, blocks:["Evening"], icon:"ðŸ§˜" },

// Anya's Creativity Zone
    { id:"a11", area:"Anya's Creativity Zone", subFocus:"Content", title:"One creative idea with Anya", minutes:5, benefit:"Strengthens your creative bond", favorite:true, blocks:["Evening"], icon:"ðŸŽ¥" },
    { id:"a12", area:"Anya's Creativity Zone", subFocus:"Setup",   title:"Tidy one part of the setup", minutes:3, benefit:"Keeps the space inspiring", favorite:false, blocks:["Any"], icon:"ðŸ§¹" },
    { id:"a11", area:"Anya's Creativity Zone", subFocus:"Content", title:"One creative idea with Anya", minutes:5, reps:1, benefit:"Strengthens your creative bond", favorite:true, blocks:["Evening"], icon:"ðŸŽ¥" },
    { id:"a12", area:"Anya's Creativity Zone", subFocus:"Setup",   title:"Tidy one part of the setup", minutes:3, reps:1, benefit:"Keeps the space inspiring", favorite:false, blocks:["Any"], icon:"ðŸ§¹" },

// Soundbath
    { id:"a13", area:"Soundbath", subFocus:"Practice",    title:"10-min soundbath practice",      minutes:10, benefit:"Deepens your skill & presence", favorite:true, blocks:["Evening"], icon:"ðŸŽ¶" },
    { id:"a14", area:"Soundbath", subFocus:"Events",      title:"Reach out about one future event", minutes:3, benefit:"Grows your offerings", favorite:false, blocks:["Afternoon"], icon:"ðŸ“©" },
    { id:"a13", area:"Soundbath", subFocus:"Practice",    title:"10-min soundbath practice",      minutes:10, reps:1, benefit:"Deepens your skill & presence", favorite:true, blocks:["Evening"], icon:"ðŸŽ¶" },
    { id:"a14", area:"Soundbath", subFocus:"Events",      title:"Reach out about one future event", minutes:3, reps:1, benefit:"Grows your offerings", favorite:false, blocks:["Afternoon"], icon:"ðŸ“©" },

// Ciqu
    { id:"a15", area:"Ciqu", subFocus:"Finance",          title:"Review key numbers â€“ 5 min",     minutes:5, benefit:"Keeps you grounded in the business", favorite:true, blocks:["Midday"], icon:"ðŸ“Š" },
    { id:"a16", area:"Ciqu", subFocus:"Operations",       title:"Send one check-in message",      minutes:3, benefit:"Maintains clean communication", favorite:false, blocks:["Afternoon"], icon:"ðŸ¤" },
    { id:"a15", area:"Ciqu", subFocus:"Finance",          title:"Review key numbers â€“ 5 min",     minutes:5, reps:1, benefit:"Keeps you grounded in the business", favorite:true, blocks:["Midday"], icon:"ðŸ“Š" },
    { id:"a16", area:"Ciqu", subFocus:"Operations",       title:"Send one check-in message",      minutes:3, reps:1, benefit:"Maintains clean communication", favorite:false, blocks:["Afternoon"], icon:"ðŸ¤" },

// EZ Tool
    { id:"a17", area:"EZ Tool", subFocus:"Product",       title:"Capture one product idea",       minutes:3, benefit:"Moves the app 1% forward", favorite:true, blocks:["Any"], icon:"ðŸ› ï¸" },
    { id:"a18", area:"EZ Tool", subFocus:"Marketing",     title:"Improve one line of copy",       minutes:4, benefit:"Sharpens your message", favorite:false, blocks:["Evening"], icon:"âœï¸" }
    { id:"a17", area:"EZ Tool", subFocus:"Product",       title:"Capture one product idea",       minutes:3, reps:1, benefit:"Moves the app 1% forward", favorite:true, blocks:["Any"], icon:"ðŸ› ï¸" },
    { id:"a18", area:"EZ Tool", subFocus:"Marketing",     title:"Improve one line of copy",       minutes:4, reps:1, benefit:"Sharpens your message", favorite:false, blocks:["Evening"], icon:"âœï¸" }
];

  var STORAGE_KEY = "onepct_v41_focus";
  var STORAGE_KEY = "onepct_v43_focus";
var todayISO = new Date().toISOString().slice(0,10);

var state;
@@ -874,15 +873,15 @@
var raw = localStorage.getItem(STORAGE_KEY);
if (raw) {
var parsed = JSON.parse(raw);
        if (parsed && parsed.version === "4.1.0") {
        if (parsed && parsed.actions && parsed.days) {
state = parsed;
return;
}
}
} catch(e){}
// Fresh clean slate
state = {
      version: "4.1.0",
      version: "4.3.0",
actions: DEFAULT_ACTIONS.slice(),
days: {},
quoteIndex: 0,
@@ -904,14 +903,10 @@

function saveState(){
state.currentDate = currentDate;
    state.version = "4.3.0";
try{ localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }catch(e){}
}

  function formatDateLabel(date){
    var d = new Date(date);
    return d.toLocaleDateString(undefined,{weekday:"short", month:"short", day:"numeric"});
  }

function getActions(){
if (!Array.isArray(state.actions) || !state.actions.length) state.actions = DEFAULT_ACTIONS.slice();
return state.actions;
@@ -951,6 +946,7 @@
title:picked.title,
benefit:picked.benefit,
minutes:picked.minutes,
      reps:picked.reps,
favorite:false,
icon:picked.icon,
blocks:picked.blocks
@@ -961,7 +957,6 @@

// ---------- DOM REFS ----------

  var dateLabel       = document.getElementById("dateLabel");
var progressChip    = document.getElementById("progressChip");
var dateInput       = document.getElementById("dateInput");

@@ -1001,7 +996,6 @@
function render(){
var day = ensureDay(currentDate);
dateInput.value = currentDate;
    dateLabel.textContent = formatDateLabel(currentDate);

morningInput.value = day.morning || "";
eveningInput.value = day.evening || "";
@@ -1405,6 +1399,31 @@
});
titleRow.appendChild(mins);

        var repsPill = document.createElement("span");
        repsPill.className = "pill";
        repsPill.textContent = task.reps ? (task.reps + " reps") : "Set reps";
        repsPill.title = "Tap to edit reps (optional)";
        repsPill.addEventListener("click", function(ev){
          ev.stopPropagation();
          var currentVal = (typeof task.reps === "number" && task.reps > 0) ? task.reps : "";
          var val = prompt("Reps for this task (leave blank to clear)?", currentVal);
          if (val === null) return;
          val = val.trim();
          if (val === "") {
            delete task.reps;
          } else {
            var r = parseInt(val,10);
            if (!r || r < 1) {
              alert("Reps should be a positive number.");
            } else {
              task.reps = r;
            }
          }
          saveState();
          render();
        });
        titleRow.appendChild(repsPill);

var smart = document.createElement("span");
smart.className = "pill pill-smart";
smart.textContent = task.favorite ? "Next up âœ“" : "Add to Next up";
@@ -1458,197 +1477,205 @@
if (!title) return;
var m = parseInt(prompt("Minutes (number)?") || "3",10);
if (!m || m<1) m = 3;
        var reps = prompt("Reps for this task (optional)?");
        var repsVal = null;
        if (reps !== null && reps.trim() !== "") {
          var r = parseInt(reps.trim(),10);
          if (r && r>0) repsVal = r;
        }
var benefit = prompt("Short benefit line (optional):") || "Supports your long-term vision.";
var id = "u" + Date.now() + Math.floor(Math.random()*1000);
        state.actions.push({
        var newTask = {
id:id, area:area, subFocus:sfName, title:title, benefit:benefit,
minutes:m, favorite:false
        });
        };
        if (repsVal) newTask.reps = repsVal;
        state.actions.push(newTask);
saveState();
render();
});

footer.appendChild(add);
card.appendChild(header);
card.appendChild(tasksEl);
card.appendChild(footer);

header.addEventListener("click", function(){
if (!expandedSubFocus[area]) expandedSubFocus[area] = {};
expandedSubFocus[area][sfName] = !expandedSubFocus[area][sfName];
render();
});

subFocusList.appendChild(card);
});
}

function renderStats(){
var dates = Object.keys(state.days).sort();
var streak = 0;
if (dates.length){
var cursor = new Date(currentDate);
while (true){
var key = cursor.toISOString().slice(0,10);
var day = state.days[key];
if (!day) break;
var any = Object.values(day.done||{}).some(Boolean);
if (!any) break;
streak++;
cursor.setDate(cursor.getDate()-1);
}
}
streakValue.textContent = streak + " day" + (streak===1?"":"s");

var base = new Date(currentDate);
var dow = base.getDay();
var monday = new Date(base);
monday.setDate(base.getDate() - ((dow+6)%7));
var sunday = new Date(monday);
sunday.setDate(monday.getDate()+6);

var mins = 0;
var reps = 0;
var actions = getActions();
for (var d=new Date(monday); d<=sunday; d.setDate(d.getDate()+1)){
var key = d.toISOString().slice(0,10);
var day = state.days[key];
if (!day) continue;
actions.forEach(function(a){
if (day.done[a.id]){
mins += (a.minutes||0);
if (a.reps) reps += a.reps;
}
});
}
minutesValue.textContent = mins;
repsValue.textContent = reps;
}

function renderCalendar(){
calendarEl.innerHTML = "";
var actions = getActions();
for (var i=13;i>=0;i--){
var d = new Date();
d.setDate(d.getDate()-i);
var key = d.toISOString().slice(0,10);
var day = state.days[key] || {done:{}};
var total = actions.length||1;
var done = actions.filter(function(a){ return day.done[a.id]; }).length;
var pct = Math.round(done/total*100);
var cell = document.createElement("div");
cell.className = "cal-day";
cell.textContent = pct + "%";
var light = 100 - Math.round(pct*0.4);
cell.style.background = "hsl(140,60%,"+light+"%)";
calendarEl.appendChild(cell);
}
}

// ---------- EVENTS ----------

dateInput.addEventListener("change", function(){
currentDate = dateInput.value || todayISO;
ensureDay(currentDate);
saveState();
render();
});

nextQuoteBtn.addEventListener("click", function(){
state.quoteIndex = (state.quoteIndex + 1) % QUOTES.length;
saveState();
render();
});

morningInput && morningInput.addEventListener("input", function(){
ensureDay(currentDate).morning = morningInput.value;
saveState();
});
eveningInput && eveningInput.addEventListener("input", function(){
ensureDay(currentDate).evening = eveningInput.value;
saveState();
});
journalInput && journalInput.addEventListener("input", function(){
ensureDay(currentDate).journal = journalInput.value;
saveState();
});

moodButtons.forEach(function(btn){
btn.addEventListener("click", function(){
ensureDay(currentDate).mood = btn.dataset.mood;
saveState();
render();
});
});

var views = {
home:    document.getElementById("view-home"),
areas:   document.getElementById("view-areas"),
checkin: document.getElementById("view-checkin"),
stats:   document.getElementById("view-stats")
};
var navBtns = document.querySelectorAll(".nav-btn");
navBtns.forEach(function(btn){
btn.addEventListener("click", function(){
var v = btn.dataset.view;
Object.keys(views).forEach(function(k){
views[k].style.display = (k===v) ? "block" : "none";
});
areaDetailView.style.display = "none"; // hide detail when switching tabs
navBtns.forEach(function(b){ b.classList.toggle("active", b===btn); });
});
});

addAreaBtn.addEventListener("click", function(){
var name = prompt("New focus area name (e.g., Travel, Creativity, Recovery)?");
if (!name) return;
name = name.trim();
if (!name) return;
if (!state.areas) state.areas = [];
if (state.areas.indexOf(name) === -1) {
state.areas.push(name);
}
if (!state.subFocuses[name]) state.subFocuses[name] = [];
saveState();
render();
});

areaBackBtn.addEventListener("click", function(){
areaDetailView.style.display = "none";
document.getElementById("view-areas").style.display = "block";
state.currentArea = null;
saveState();
render();
});

addSubFocusBtn.addEventListener("click", function(){
if (!state.currentArea) {
alert("Open a focus area first.");
return;
}
var name = prompt("New sub-focus for " + state.currentArea + " (e.g., Morning, Recovery, PT)?");
if (!name) return;
name = name.trim();
if (!name) return;
if (!state.subFocuses[state.currentArea]) state.subFocuses[state.currentArea] = [];
if (state.subFocuses[state.currentArea].indexOf(name) === -1) {
state.subFocuses[state.currentArea].push(name);
}
saveState();
render();
});

areaAddSuggestionBtn.addEventListener("click", function(){
if (!state.currentArea) {
alert("Open a focus area first.");
return;
}
generateSuggestionForArea(state.currentArea);
});

// ---------- INIT ----------
dateInput.value = currentDate;
render();
</script>
</body>
</html>
